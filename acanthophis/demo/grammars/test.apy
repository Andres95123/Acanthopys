grammar test:

    tokens:

        NUMBER: \d+

        PLUS: \+

        MULU: \*

        DIV: \/

        MINUS: \-

        WS: skip \s+

        OPENB: \(

        CLOSEB: \)

        IDENTIFIER: [a-zA-Z_]\w*

    end

    start rule Expr:

        | left:Expr PLUS right:Term -> Add(left, right)

        | left:Expr MINUS right:Term -> Sub(left, right)

        | val:Term -> pass

    end

    rule Term:

        | left:Term MULU right:Factor -> Mul(left, right)

        | left:Term DIV right:Factor -> Div(left, right)

        | val:Factor -> pass

    end

    rule Factor:

        | OPENB expr:Expr CLOSEB -> pass

        | n:NUMBER -> Num(n, 'positive')

        | MINUS n:NUMBER -> Num(n, 'negative')

        | id:IDENTIFIER -> Var(id)

    end

    test Basic:

        "1 + 2" => Yields(Add(Num(1), Num(2)))

    end

end

